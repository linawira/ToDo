{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/todos.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","showRegister","user","firstName","lastName","email","password","registerError","save","console","log","serverResponse","error","login","sessionStorage","setItem","JSON","stringify","response","navigate","catch","List","todos","parse","getItem","title","priorities","showList","showCompleted","activate","getUserTodos","_id","createTodo","todoObj","description","dateDue","Date","userId","priority","editTodo","todo","deleteTodo","completeTodo","completed","saveTodo","toggleShowCompleted","changeFiles","filesToUpload","Array","push","files","removeFile","index","splice","alert","todoId","length","uploadFile","back","logout","removeItem","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","ToDos","TODO_SERVICE","todosArray","id","i","formData","FormData","forEach","item","append","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","DateFormatValueConverter","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\nexport class App {\n\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep); \n    config.map([\n      { \n\t route: ['', 'home'],\n\t moduleId: './modules/home',\n\t name: 'Home' \n      },\n      {\n\t route: 'list',\n\t moduleId: './modules/list',\n   name: 'List', \n   auth: true //protect list route\n     }\n    ]);\n  }\n}\n\n","var authConfig = {\r\n    baseUrl: \"http://localhost:5000/api\",\r\n    loginUrl: '/users/login',\r\n    tokenName: 'token',\r\n    authHeader: 'Authorization',\r\n    authToken: '',\r\n    logoutRedirect: '#/home'\r\n  }\r\n  \r\n  export default authConfig;\r\n  ","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nimport regeneratorRuntime from 'regenerator-runtime';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nimport config from './auth-config';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n })\n    .feature('resources'); //load everything is the resource folder\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","// export class Home {\r\n// \tconstructor(){\r\n// \t\tthis.message = \"Home\";\r\n// \t}\r\n    import {inject} from 'aurelia-framework'; \r\n    import {Router} from 'aurelia-router';\r\n    import { Users } from '../resources/data/users';   \r\n    import {AuthService} from 'aurelia-auth';  \r\n    \r\n    @inject(Router, Users, AuthService)\r\n    export class Home {\r\n\r\n      constructor(router, users, auth) {\r\n        this.router = router;\r\n        this.auth = auth;\r\n        this.loginError = '';     \r\n        this.users = users;\r\n        this.message = 'Home';\r\n        this.showLogin = true;\r\n      }\r\n    \r\n      showRegister(){\r\n        this.user = {\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          email: \"\",\r\n          password: \"\"\r\n          }\r\n          this.registerError = \"\";\r\n          \r\n        this.showLogin = false;\r\n      }\r\n       async save() {\r\n       console.log (this.user);\r\n              let serverResponse = await this.users.save(this.user);\r\n              if (!serverResponse.error) {\r\n                this.showLogin = true;\r\n              } else {\r\n                this.registerError = \"There was a problem registering the user.\"\r\n              }\r\n        }\r\n            \r\n\r\n      login(){\r\n        return this.auth.login(this.email, this.password)\r\n        .then(response => {\r\n          sessionStorage.setItem(\"user\", JSON.stringify(response.user));\r\n          this.loginError = \"\";  \r\n          this.router.navigate('list');\r\n        })\r\n       .catch(error => {\r\n        console.log(error);\r\n        this.loginError = \"Invalid credentials.\";\r\n      });\r\n  };\r\n\r\n    }\r\n    \r\n\r\n\r\n// }\r\n","\r\n    import {inject} from 'aurelia-framework';\r\n    import {ToDos} from '../resources/data/todos';    \r\n    import {Router} from 'aurelia-router';\r\n    import { AuthService } from 'aurelia-auth';    \r\n    \r\n    @inject(Router, AuthService, ToDos)\r\n    export class List {\r\n\r\n      constructor(router, auth, todos) {\r\n        this.router = router;\r\n        this.todos = todos;\r\n        this.auth = auth;\r\n    \r\n        this.user = JSON.parse(sessionStorage.getItem('user'));\r\n        this.title = \"Lina Has Things ToDo!\"\r\n        this.priorities = ['Low', 'Medium', 'High', 'Critical'];\r\n        this.showList = true;\r\n        this.showCompleted = false;\r\n      }\r\n\r\n      async activate(){\r\n\t\tawait this.todos.getUserTodos(this.user._id);\r\n\t}\r\n\r\n        createTodo(){\t\r\n            this.todoObj = {\r\n                todos: \"\",\r\n                description: \"\",\r\n                dateDue: new Date(),\r\n                userId: this.user._id,\r\n                priority: this.priorities[1]\r\n            }\r\n            this.showList = false;\t\t\r\n        }\r\n\r\n        editTodo(todo){\r\n                    this.todoObj = todo;\r\n                    this. showList = false;\r\n                }\r\n\r\n           deleteTodo(todo){\r\n                    this.todos.deleteTodo(todo._id);\r\n                }\r\n\r\n            completeTodo(todo){\r\n                    todo.completed = !todo.completed;\r\n                    this.todoObj = todo;\r\n                    this.saveTodo();\r\n                }\r\n\r\n             toggleShowCompleted(){\r\n                    this.showCompleted = !this.showCompleted;\r\n                }\r\n              \r\n            changeFiles(){\r\n                      this.filesToUpload = new Array(); \r\n                      this.filesToUpload.push(this.files[0]);\r\n                    }\r\n            \r\n            removeFile(index){\r\n                        this.filesToUpload.splice(index,1);\r\n                    }\r\n                       \r\n    \r\n        async saveTodo(){\r\n            if(this.todoObj){\t\t\r\n                let response = await this.todos.save(this.todoObj);\r\n                if(response.error){\r\n                    alert(\"There was an error creating the ToDo\");\r\n                } else {\r\n                      var todoId = response._id;\r\n                                    if(this.filesToUpload && this.filesToUpload.length){\r\n                                        await this.todos.uploadFile(this.filesToUpload, this.user._id, todoId);\r\n                                        this.filesToUpload = [];\r\n                                    }                     \r\n                }\r\n                this.showList = true;\r\n            }\r\n        }\r\n\r\n        back(){\r\n            this.showList=true;\r\n        }\r\n    \r\n      logout(){\r\n        //   this.router.navigate('home');\r\n         sessionStorage.removeItem('user');\r\n         this.auth.logout();\r\n    \r\n      }\r\n    }\r\n    \r\n","export function configure(config) {\n  config.globalResources([\n  './value-converters/date-format',\n  './value-converters/completed',\n  './elements/flatpickr'\n]);\n}\n","import { inject } from 'aurelia-framework';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n\r\n\tconstructor(http) {\r\n\t\tthis.httpClient = http;\r\n\r\n\t\tthis.BASE_URL = \"http://localhost:5000/api/\";\r\n\r\n\t\tthis.httpClient.configure(config => {\r\n\t\t\tconfig\r\n\t\t\t\t.withBaseUrl(this.BASE_URL)\r\n\t\t\t\t.withDefaults({\r\n\t\t\t\tcredentials: 'same-origin',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t\t'X-Requested-With': 'Fetch'\r\n\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.withInterceptor({\r\n\t\t\t\trequest(request) {\r\n\t\t\t\t\tconsole.log(`Requesting ${request.method} ${request.url}`);\r\n\t\t\t\t\treturn request;\r\n\t\t\t\t},\r\n\t\t\t\tresponse(response) {\r\n\t\t\t\t\tconsole.log(`Received ${response.status} ${response.url}`);\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t\r\n\t}\r\n\r\n\tget(url) {\r\n\t\treturn this.httpClient.fetch(url)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpost(content, url) {\r\n\t\treturn this.httpClient\r\n\t\t\t.fetch(url, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: json(content)\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n\t\t\t\treturn object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error;\r\n\t\t\t});\r\n\t}\r\n\r\n\tput(content, url) {\r\n\t\treturn this.httpClient\r\n\t\t\t.fetch(url, {\r\n\t\t\t\tmethod: 'put',\r\n\t\t\t\tbody: json(content)\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n\t\t\t\treturn object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error;\r\n\t\t\t});\r\n\t}\r\n\r\n\tdelete(url) {\r\n\t\treturn this.httpClient\r\n\t\t\t.fetch(url, {\r\n\t\t\t\tmethod: 'delete'\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n\t\t\t\treturn object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error ;\r\n\t\t\t});\r\n\t}\r\n\r\n\tuploadFiles(files, url){\r\n\t\t    return this.httpClient\r\n\t\t    .fetch(url, {\r\n\t\t        method: 'post',\r\n\t\t        body: files\r\n\t\t    })\r\n\t\t    .then(response => response.json())\r\n\t\t    .then(object => {\r\n\t\t        return object;\r\n\t\t    })\r\n\t\t    .catch(error => {\r\n\t\t        return error;\r\n\t\t    });\r\n\t\t}\r\n\t\t\r\n\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class ToDos {\r\n\tconstructor(data) {\r\n        \t\tthis.data = data;\r\n        \t\tthis.TODO_SERVICE = 'todos';\r\n                this.todosArray= new Array ();\r\n   \t\t }\r\n\r\nasync getUserTodos(id){\r\n    let response = await this.data.get(this.TODO_SERVICE + \"/user/\" + id);\r\n    if(!response.error && !response.message){\r\n        this.todosArray = response;\r\n    }\r\n} \r\n\r\nasync save(todo){\r\n    if(todo){\r\n    if(!todo._id){\r\n    let serverResponse = await this.data.post(todo, this.TODO_SERVICE);\r\n    if(!serverResponse.error){\r\n        this.todosArray.push(serverResponse);\r\n    }\r\n    return serverResponse;\r\n        } else {\r\n                let serverResponse = await this.data.put(todo, this.TODO_SERVICE + \"/\" + todo._id);\r\n                if(!serverResponse.error){\r\n                    // this.updateArray(response);\r\n    // this.todosArray.forEach(todo => {\r\n    //     if (todo._id === serverResponse._id)\r\n    // })\r\n                }\r\n                return serverResponse;\r\n            }\r\n       }\r\n    \r\n    }\r\n\r\nasync deleteTodo(id){\r\n    let serverResponse = await this.data.delete(this.TODO_SERVICE + \"/\" + id);\r\n    if(!serverResponse.error){\r\n        for(let i = 0; i < this.todosArray.length; i++){\r\n            if(this.todosArray[i]._id === id){\r\n                this.todosArray.splice(i,1);\r\n            }\r\n        }\r\n    }\r\n}   \r\n\r\nasync uploadFile(files, userId, todoId){\r\n            let formData = new FormData();\r\n          files.forEach((item, index) => {\r\n        formData.append(\"file\" + index, item);\r\n            });\r\n        let serverResponse = await this.data.uploadFiles(formData, this.TODO_SERVICE +\"/upload/\" + userId + \"/\" + todoId);\r\n        return serverResponse;\r\n    }\r\n    \r\n\r\n    \r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class Users {\r\n    \r\nconstructor(data) {\r\n        this.data = data;\r\n\r\n        this.USER_SERVICE = 'users';\r\n    }\r\n\r\nasync save(user){\r\n    if(user){\r\n        let serverResponse = await this.data.post(user, this.USER_SERVICE);\r\n         return serverResponse;\r\n }\r\n}\r\n\r\n}\r\n","import {inject, bindable, bindingMode} from 'aurelia-framework';\r\nimport Flatpickr from 'flatpickr';\r\n\r\n@inject(Element)\r\nexport class FlatPickerCustomElement {\r\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\r\nconstructor(element) {\r\n  this.element = element;\r\n}\r\n\r\nbind() {\r\n            const defaultConfig = {\r\n                \taltInput: true,\r\n                \taltFormat: \"F j, Y\",\r\n        wrap: true\r\n            };\r\n            this._config = Object.assign({}, defaultConfig);\r\n            this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\r\n        }\r\n\r\n    attached() {\r\n                this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\r\n         }\r\n        onChange(selectedDates, dateStr, instance) {\r\n                this.value = selectedDates[0] \r\n        }\r\n\r\n        valueChanged() {\r\n                if (!this.flatpickr) {\r\n                    return;\r\n                }\r\n               if (this.value === this.flatpickr.selectedDates[0]){\r\n                    return;\r\n                }\r\n             let newDate = this.value ? this.value : undefined;      \r\n             this.flatpickr.setDate(newDate);\r\n            }\r\n            }\r\n            ","export class CompletedValueConverter {\r\n      \r\n       toView(array, value) {\r\n         if(!value){\r\n          return array.filter(item => {\r\n            return !item.completed;\r\n          })\r\n         } else {\r\n           return array;\r\n         }\r\n       }\r\n      }\r\n    ","import moment from 'moment';\r\nexport class DateFormatValueConverter {\r\n\r\ntoView(value, format = 'MM- DD- YYYY') {\r\nif(value === undefined || value === null){\r\n\treturn;\r\n    \t\t}\r\n    \r\n    \t\treturn moment(value).format(format);\r\n\t}\r\n}\r\n"],"sourceRoot":".."}